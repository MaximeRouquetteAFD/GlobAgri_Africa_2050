/* Ce module gère le style de l'application (police, coulers, encadrés...). 
Les onglets "home page" et "about" ont leurs propres designs dans leurs modules
respectifs */


/* ===== Design tokens ===== */
:root{
  --app-font: 'Segoe UI', 'Roboto', Helvetica, Arial, sans-serif;
  --title-color:#FFFFFF;
  --subtitle-color:#111A2E;
  --title-xxl:2rem; --title-xl:1.75rem; --title-lg:1.5rem;
  --title-md:1.25rem; --title-sm:1.125rem; --title-xs:1rem;
  --title-weight:600; --title-margin:0 0 8px 0;

   /* Fond de la page */
  --page-bg:#ffffff;

  /* Couleurs pour les bandeaux */
  --nav-bg:#ffffff;
  --nav-text:#334155;
  --nav-text-hover:#111A2E;
  --nav-active:#111A2E;
  --nav-sep:#e5e7eb;
  --nav-underline:#111A2E;
  --brand-blue:#c23934;
  --brand-blue-ring:#c23934;

  /* Cards (design system) */
  --card-bg:#111A2E;   /* couleur intérieure des cadrs des graphiques */
  --card-bd:#404757;   /* couleur de bordure des cards */
  --card-inner:#ffffff;   /* couleur intérieure des encadrés informatifs */
  --card-radius:12px;
  --card-pad:16px;
  --card-shadow:0 4px 14px rgba(16,24,40,0.04);
  --card-shadow-hover:0 6px 18px rgba(16,24,40,0.06);
  --value-color:#1f2937;

  /* Header spacing */
  --header-gap:24px;}

/* desktop override for header gap */
@media (min-width: 992px){
  :root{ --header-gap:32px; }
}

html {min-height: 100%;}

body {min-height: 100vh;display: flex;flex-direction: column; margin: 0;background: var(--page-bg);}

.app-page {flex: 1 0 auto;display: block;}
.app-footer {flex-shrink: 0;width: 100%;}

/* Normalisation des titres et polices ===== */
.app h1,
.app h2,
.app h3,
.app h4,
.app h5,
.app h6 {color: var(--title-color);}
h1,.h1{font-size:var(--title-xxl);font-weight:var(--title-weight);margin:var(--title-margin)}
h2,.h2{font-size:var(--title-xl); font-weight:var(--title-weight);margin:var(--title-margin)}
h3,.h3{font-size:var(--title-lg); font-weight:var(--title-weight);margin:var(--title-margin)}
h4,.h4{font-size:var(--title-md); font-weight:var(--title-weight);margin:var(--title-margin)}
h5,.h5{font-size:var(--title-sm); font-weight:var(--title-weight);margin:var(--title-margin)}
h6,.h6{font-size:var(--title-xs); font-weight:var(--title-weight);margin:var(--title-margin)}


/* ================== NORMALISATION GLOBALE ================== */
.app, .app * {box-sizing: border-box;font-family: var(--app-font);}

.app h1.section-title{color: var(--subtitle-color) !important;}
.app .text-muted,
.app .text-muted em{color: #FFFFFF !important; opacity: 0.9;}  /* les petits messages en cas de non-affichage d'un scénario */

/* Couleur de texte par défaut sur le conteneur seulement (héritage normal) */
.app {color: var(--title-color);}

/* --- HELPER pour ne pas écraser la police des icônes de tééléchargement --- */
.app i.fa, .app i.fas, .app i.far, .app i.fab,
.app span.fa, .app span.fas, .app span.far, .app span.fab,
.app i[class^="fa-"], .app i[class*=" fa-"],
.app span[class^="fa-"], .app span[class*=" fa-"]{ font-family: "Font Awesome 6 Free","Font Awesome 5 Free",
               "Font Awesome 6 Brands","Font Awesome 5 Brands" !important; font-weight: 900; }

/* Glyphicons (Bootstrap 3) pour compatibilité downloadLink etc. */
.app .glyphicon{font-family: "Glyphicons Halflings" !important; font-weight: normal !important;}


/* ================== UTILITAIRES (Design System) ================== */

/* ENCADRES DES CARDS */
.app .u-card{
  display:block;
  width:100%;
  background:var(--card-inner);           /*  couleur de fond de la carte */
  border:2px solid var(--card-bd);     /*  bordure grise claire */
  border-radius:var(--card-radius);    /*  arrondi des coins */
  padding:var(--card-pad);             /*  marge intérieure */
  box-shadow:var(--card-shadow);}     /*  ombre portée légère */

/* VARIANTES DES ENCADRES DES GRAPHIQUES */
.app .u-card--flat{ box-shadow:none; }  /* même carte mais sans ombre */
.app .u-card--hover:hover{ box-shadow:var(--card-shadow-hover); }  /* ombre un peu plus marquée au survol */
.app .u-card--clickable{cursor:pointer; transition: box-shadow .15s ease-in-out, border-color .15s ease-in-out;} /* annonce visuellement que c'est cliquable */
.app .u-card--focus:focus{ outline:0; }
.app .u-card--focus:focus-visible,
.app .is-active{border-color: var(--brand-blue) !important;box-shadow: 0 0 0 2px var(--brand-blue-ring) !important;} /* bleu à la selection */

/* CONTENEUR DYNAMIQUE */
.app .u-row{
  display:flex;
  gap:16px;
  flex-wrap:wrap;          /* Autorise le retour à la ligne si pas assez de place */
  align-items:stretch;}     /* Toutes les cartes prennent la même hauteur */

@media (max-width: 767px){
  .app .u-row{flex-direction:column;}} /* en mode vertical sur mobile*/
  .app .u-box{ width:100%; }

.app .u-row > *{
  flex:1 1 0;              /* Chaque enfant prend une largeur flexible égale */
  min-width:260px;}         /* En-dessous de 260px, au lieu de se tasser, il passe à la ligne */

/* Centrage du contenu pour les cartes KPI (hors header bleu) */
.app .energy-kpi .u-box,
.app .surface-cards .u-box,
.app .kpi-card { 
  text-align: center;
}

/* STYLE DU TEXTE DANS LES ENCADRES */
.app .u-title{font-size:14px;font-weight:600;color:var(--subtitle-color);margin:0 0 8px 0;} /* Sous-titre */
.app .u-value{font-size:28px;font-weight:700;margin:0;color:var(--value-color);line-height:1.15;} /* la valeur centrale */
.app .u-unit {font-size:12px;color:var(--subtitle-color);margin-left:6px;} /* l'unité */
.app .u-sub{font-size:12px;color:var(--subtitle-color);margin-top:6px;} /* explication sous la valeur */

/* Deltas de tendance */
.app .u-sub .up,
.app .u-sub .up strong{color:#0b8f6f;font-weight:600;}
.app .u-sub .down,
.app .u-sub .down strong{color:#c23934;font-weight:600;}

/*la barre d’actions type "CSV" en bas à droite*/
.app .u-actions{margin: 8px 0 2px;display: flex;justify-content: flex-end;gap: 10px;} 
.app .u-actions .btn,
.app .u-actions a{display: inline-flex;align-items: center;gap: 6px;font-weight: 600;text-decoration: none;}
.app .u-actions a:hover{ text-decoration: underline; }

/* ===== Réduction spécifique pour les KPI de surfaces ===== */

/* 1. Cartes un peu plus compactes dans surface-cards */
.app .surface-cards .u-title{font-size:13px;}
.app .surface-cards .u-value{font-size:24px;}
.app .surface-cards .u-unit,
.app .surface-cards .u-sub{font-size:11px;}

/* 2. Réduire la largeur minimale des cartes pour pouvoir en afficher 5 côte à côte */
.app .surface-cards .u-row > *{min-width:200px;}

/* Optionnel : sur écrans larges, on force à rester sur une seule ligne */
@media (min-width: 1200px){.app .surface-cards .u-row{flex-wrap: nowrap;}}

/* ================== ENCADRÉS UNIFIÉS (hors header et cards) ================== */
.app .well,
.app .panel, .app .panel-default, .app .panel-body, .app .panel-heading,
.app .box, .app .box-body, .app .box-header,
.app .card, .app .card-body, .app .card-header{
  background:var(--card-bg) !important;
  border:1px solid var(--card-bd) !important;
  border-radius:var(--card-radius) !important;
  box-shadow:var(--card-shadow) !important;
}
.app .panel-heading, .app .box-header, .app .card-header{
  background:transparent !important;
  border-bottom:1px solid var(--card-bd) !important;
  color:var(--title-color) !important;
  padding:8px 12px !important;
  margin:0 !important;
}
.app .panel-body, .app .box-body, .app .card-body{
  padding:14px 16px !important;
}
.app .panel{ border:none !important; }       /* supprime le double-bord BS3 */
.app .panel-body{ border:none !important; }

/* Uniformité dans les onglets (contre-styles de thèmes) */
.app .tab-content .tab-pane .well,
.app .tab-content .tab-pane .panel, .app .tab-content .tab-pane .panel-default,
.app .tab-content .tab-pane .box,
.app .tab-content .tab-pane .card{
  background:var(--card-bg) !important;
  border:1px solid var(--card-bd) !important;
  border-radius:var(--card-radius) !important;
  box-shadow:var(--card-shadow) !important;
}


/* KPI “historiques” — mappés sur le design system (optionnel) */
.kpi-card{
  background:var(--card-bg);
  border:1px solid var(--card-bd);
  border-radius:var(--card-radius);
  padding:14px 16px;
  margin: 8px 0;
  box-shadow: var(--card-shadow);
  text-align:center;
}
.kpi-card:hover{ box-shadow:var(--card-shadow-hover); }
.kpi-head{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  margin-bottom:6px;
}
.kpi-title{
  margin:0;
  font-size:13px;
  font-weight:600;
  color:var(--subtitle-color);
}
.kpi-value{
  margin:2px 0 6px 0;
  font-size:28px;
  font-weight:700;
  letter-spacing:0.2px;
  text-align:center;
  color:var(--value-color);
}
.kpi-unit{
  font-size:.72em;
  color:#9aa3af;
  margin-left:6px;
  vertical-align:baseline;
}
.kpi-sub{
  margin:0;
  font-size:12px;
  color:var(--subtitle-color);
  text-align:center;
}
.kpi-sub .kpi-delta.up{
  color:#0b8f6f;
  font-weight:600;
}
.kpi-sub .kpi-delta.down{color:#c23934;font-weight:600;}


/* ================== REACTION AU CLIC ================== */
.form-control:focus,
.input-group .form-control:focus{border-color:var(--brand-blue) !important;outline:none !important;box-shadow:0 0 0 2px var(--brand-blue-ring) !important;}
.selectize-control.single .selectize-input.focus{border-color:var(--brand-blue) !important;box-shadow:0 0 0 4px var(--brand-blue-ring) !important;}
.btn:focus,
.btn:active:focus,
.btn:focus-visible{outline:none !important;border-color:var(--brand-blue) !important;box-shadow:0 0 0 2px var(--brand-blue-ring) !important;}

/* Focus encadrés */
.app .well:focus-within,
.app .panel:focus-within,
.app .box:focus-within,
.app .card:focus-within{outline:none !important;border-color:var(--brand-blue) !important;box-shadow:0 0 0 2px var(--brand-blue-ring) !important;}


/* ================== ONGLETS ================== */
.navbar-default{
  background:var(--nav-bg);
  border-color:var(--nav-sep);
  box-shadow:0 1px 0 #F6F7FB;
   margin-bottom: 0 ;}

.navbar-default .navbar-brand{
  color:var(--nav-text);
  font-weight:600;
  letter-spacing:.1px;}
  
.navbar-default .navbar-nav>li>a{
  color:var(--nav-text);
  padding:12px 16px;
  border-left:1px solid var(--nav-sep);
  position:relative;}
  
.navbar-default .navbar-nav>li:first-child>a{ border-left:none; }

.navbar-default .navbar-nav>li>a:hover{
  color:var(--nav-text-hover);
  background-color:#F6F7FB;}
  
.navbar-default .navbar-nav>.active>a,

.navbar-default .navbar-nav>.active>a:hover,

.navbar-default .navbar-nav>.active>a:focus{
  color:var(--nav-active);
  background:var(--nav-bg);
  font-weight:600;
  box-shadow: inset 0 -3px 0 var(--nav-underline); /* soulignement actif */}
  
.navbar-default .navbar-nav>li>a:focus-visible{
  outline:none;
  box-shadow:inset 0 -3px 0 var(--nav-active);
  border-radius:0;}

/* ===== ADAPTATION POUR MOBILE ===== */
@media (max-width:991px){
  .navbar-default .navbar-nav>li>a{
    border-left:0;
    border-top:1px solid var(--nav-sep);}
    
  .navbar-default .navbar-nav>li:first-child>a{ border-top:none; }}


/* ====== BANDEAU DU HAUT ====== */
.app-header{
  background: var(--card-bg);
  margin-bottom: var(--header-gap); /* marge de sous le bandeau */
  border-bottom: 4px solid var(--nav-underline); /* la ligne qui sépare le bandeau du reste */
}
.app-header .app-header-row{
  display:flex;
  align-items:center;
}
.app-header label{
  color:var(--title-color);
  font-weight:600;
}
.app-header .app-header-sep{
  margin: 8px 0 0;
  border:0;
  border-top:1px solid rgba(255,255,255,.35);
}


/* ====== ENCADRE PRINCIPAL (INFOS PAYS) ====== */
.app-header .kpi-card,
.app-header .well,
.app-header .panel,
.app-header .box,
.app-header .card{
  background:#ffffff ;
  border:2px solid; color: #888c96 !important;
  box-shadow:0 8px 18px rgba(0,0,0,.06) !important;
  min-width:450px;
  text-align:left;
}
.app-header .kpi-title{color:var(--subtitle-color);}
.app-header .kpi-value{color:var(--subtitle-color);}


/* ================== Liens/nav (police héritée) ================== */
.navbar-default,
.navbar,
.navbar a {font-family: var(--app-font) !important;}


/* ================== Plotly / DataTables (police héritée) ================== */
.app .plotly,
.app .modebar,
.app .modebar * {
  font-family: var(--app-font) !important;
}
.app .dataTables_wrapper,
.app table.dataTable {
  font-family: var(--app-font) !important;
}


/* ================== BANDEAU DU BAS ================== */
.app-footer{background: var(--page-bg);color: #fff;padding: 22px 16px;min-height: 92px;flex-shrink: 0;width: 100%; margin-top: 24px;}
.app-footer .row{display: flex; justify-content: center;}
.app-footer .col-xs-12{display: flex;flex-direction: column;align-items: center;gap: 10px;text-align: center;}
.app-footer .brand{order: -1;}
.app-footer .brand img{display: block;height: 56px;width: auto;}

/* keep links white in the footer */
.app-footer a{color:#fff;text-decoration:none;}
.app-footer a:hover{text-decoration:underline;}


/* Format de la ligne de séparation entre les parties */
.rule{
  --rule-width: 100%;
  --rule-height: 2px;
  --rule-color: #111A2E;
  --rule-radius: 999px;
  --rule-margin: 24px 0;

  width: var(--rule-width); height: var(--rule-height); background: var(--rule-color); border: 0; margin: var(--rule-margin); border-radius: var(--rule-radius);}


/* Format des encadrés explicatifs avant les graphiques */

.app .diet-cards{ margin-top: 10px; }
.app .diet-card{ padding: 14px 16px; }
.app .diet-card-title{font-size: 18px; font-weight: 600; margin: 0 0 6px 0; color: var( --subtitle-color); text-align: center;}
.app .diet-card-text{font-size: 12px; line-height: 1.4; color: var( --subtitle-color);}

/* Espace pour ne pas masquer le haut des pages sous la navbar fixe */
.app-page {padding-top: 50px;}

